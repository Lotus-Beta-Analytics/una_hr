<odoo>
  <!-- Search view for filters -->
  <record model="ir.ui.view" id="employee_payslip_search">
      <field name="name">employee.payslip.search</field>
      <field name="model">hr.payslip</field>
      <field name="arch" type="xml">
          <search string="Search My Payslips">
              <field name="date_from"/>
              <field name="date_to"/>

              <!-- Use context_today() instead of datetime.now() -->
              <filter name="this_month" string="This Month"
                      domain="[('date_from', '>=', (context_today()).strftime('%%Y-%%m-01'))]"/>
              <filter name="this_year" string="This Year"
                      domain="[('date_from', '>=', (context_today()).strftime('%%Y-01-01'))]"/>

              <group expand="0" string="Group By">
                  <filter name="group_year" string="Year" context="{'group_by': 'date_from:year'}"/>
                  <filter name="group_month" string="Month" context="{'group_by': 'date_from:month'}"/>
              </group>
          </search>
      </field>
  </record>

  <!-- Tree view -->
  <record model="ir.ui.view" id="employee_payslip_list">
      <field name="name">employee.payslip.list</field>
      <field name="model">hr.payslip</field>
      <field name="arch" type="xml">
          <tree create="false" edit="false" delete="false">
              <field name="date_from" string="From"/>
              <field name="date_to" string="To"/>
              <field name="net_wage" string="Net Amount"/>

              <!-- Add a button instead of fake field -->
              <button name="action_print_payslip"
                      string="Download"
                      type="object"
                      icon="fa-download"/>
          </tree>
      </field>
  </record>

  <!-- Action -->
  <record model="ir.actions.act_window" id="employee_payslip_action_window">
      <field name="name">My Payslips</field>
      <field name="res_model">hr.payslip</field>
      <field name="view_mode">tree,form</field>
      <field name="search_view_id" ref="employee_payslip_search"/>
      <field name="domain">[('employee_id.user_id', '=', uid), ('state', '=', 'done')]</field>
  </record>

  <!-- Menu item -->
  <menuitem name="My Payslip"
            id="employee_payslip_menu_root"
            action="employee_payslip_action_window"
            sequence="20"/>
</odoo>
